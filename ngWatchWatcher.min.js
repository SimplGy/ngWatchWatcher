angular.module("watchWatcher",[]),angular.module("watchWatcher").factory("scopeCounters",["$rootScope",function(a){function b(a){a=a||angular.element(document.body);var c;return c=[],a.data().hasOwnProperty("$scope")&&c.push(a.data().$scope),angular.forEach(a.children(),function(a){return b($(a))}),c}function c(b){for(var c=[b||a],d=[],e=null;c.length>0;)e=c.pop(),e&&d.push(e),e.$$childHead&&c.push(e.$$childHead),e.$$nextSibling&&c.push(e.$$nextSibling);return d}return api={byEl:b,byScope:c}}]),angular.module("watchWatcher").factory("watchCounters",["$rootScope",function(a){function b(a){a=a||angular.element(document.body);var c;return c=[],a.data().hasOwnProperty("$scope")&&(c=c.concat(a.data().$scope.$$watchers)),angular.forEach(a.children(),function(a){return b($(a))}),c}function c(b){for(var c=[b||a],d=[],e=null;c.length>0;)e=c.pop(),e.$$watchers&&(d=d.concat(e.$$watchers)),e.$$childHead&&c.push(e.$$childHead),e.$$nextSibling&&c.push(e.$$nextSibling);return d}return api={byEl:b,byScope:c}}]),angular.module("watchWatcher").directive("watchLight",["$rootScope",function(a){return{restrict:"E",template:'<i class="watchLight"\n   title="Blinking indicates $digest loop activity.\nClick to log details."\n   style="cursor: pointer;\n   display: block; position: fixed;\n   top: 10px; right: 10px;\n   width:14px; height:14px;\n   border-radius: 50%; background-color: #ddd;\n   -webkit-transition:background-color .15s, box-shadow .04s;\n   transition:background-color .15s, box-shadow .04s;\n"></i>',replace:!0,link:function(b,c){function d(a,b){a=a||"#5AB953",b=b||"#29832B",c.css("background-color",a),c.css("box-shadow","inset 0 0 0 2px "+b),clearTimeout(k),clearTimeout(l),k=setTimeout(e,700),l=setTimeout(f,100)}function e(){c.css("background-color","#ddd")}function f(){c.css("box-shadow","inset 0 0 0 0 #49A34B")}function g(){m++;var a={start:Date.now()};return n.push(a),setTimeout(function(){a.end=Date.now(),a.duration=a.end-a.start},0),d(),!1}function h(a){var b=a.length,c=a[b-1].start-a[0].start;return c/=1e3,Math.round(b/c*10)/10}function i(a){var b,c,d,e=0;for(b=0,c=a.length;c>b;b++)d=a[b].duration,d&&(e+=d);return Math.round(e/c*10)/10}function j(){n.length>p&&(n=n.slice(-p))}var k,l,m=(Date.now(),0),n=[],o=5e3,p=50;c.on("click",function(){d("#69d","#369"),j(),console.log("\nDigest Information\n------------------\nDigests Per Second:      "+h(n)+" digests (fewer is better)\nAverage Digest Duration: "+i(n)+" ms      (shorter is better)\nWatches Fired So Far:    "+m+"\n\n",{digests:n})}),setInterval(j,o),a.$watch(g)}}}]);